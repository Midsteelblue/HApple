import os, sys, requests, json

apple_id = {
	"iPad4,1" : "iPad Air",
	"iPad4,2" : "iPad Air",
	"iPad4,3" : "iPad Air",
	"iPad4,4" : "iPad mini 2",
	"iPad4,5" : "iPad mini 2",
	"iPad4,6" : "iPad mini 2",
	"iPad4,7" : "iPad mini 3",
	"iPad4,8" : "iPad mini 3",
	"iPad4,9" : "iPad mini 3",
	"iPad5,1" : "iPad mini 4",
	"iPad5,2" : "iPad mini 4",
	"iPad5,3" : "iPad Air 2",
	"iPad5,4" : "iPad Air 2",
	"iPad6,3" : "iPad Pro 9.7\"",
	"iPad6,4" : "iPad Pro 9.7\"",
	"iPad6,7" : "iPad Pro 12.9\"",
	"iPad6,8" : "iPad Pro 12.9\"",
	"iPad6,11" : "iPad 9.7\" 5th Gen",
	"iPad6,12" : "iPad 9.7\" 5th Gen",
	"iPad7,1" : "iPad Pro 12.9\" - 2nd Gen",
	"iPad7,2" : "iPad Pro 12.9\" - 2nd Gen",
	"iPad7,3" : "iPad Pro 10.5\"",
	"iPad7,4" : "iPad Pro 10.5\"",
	"iPad7,5" : "iPad 9.7\" 6th Gen",
	"iPad7,6" : "iPad 9.7\" 6th Gen",
	"iPad7,11" : "iPad 10.2\" 7th Gen",
	"iPad7,12" : "iPad 10.2\" 7th Gen",
	"iPad8,1" : "iPad Pro 11\"",
	"iPad8,2" : "iPad Pro 11\"",
	"iPad8,3" : "iPad Pro 11\"",
	"iPad8,4" : "iPad Pro 11\"",
	"iPad8,5" : "iPad Pro 12.9\" - 3rd Gen",
	"iPad8,6" : "iPad Pro 12.9\" - 3rd Gen",
	"iPad8,7" : "iPad Pro 12.9\" - 3rd Gen",
	"iPad8,8" : "iPad Pro 12.9\" - 3rd Gen",
	"iPad8,9" : "iPad Pro 11\" - 2nd Gen",
	"iPad8,10" : "iPad Pro 11\" - 2nd Gen",
	"iPad8,11" : "iPad Pro 12.9\" - 4th Gen",
	"iPad8,12" : "iPad Pro 12.9\" - 4th Gen",
	"iPad11,1" : "iPad mini 5th Gen",
	"iPad11,2" : "iPad mini 5th Gen",
	"iPad11,3" : "iPad Air 3rd Gen",
	"iPad11,4" : "iPad Air 3rd Gen",
	"iPad11,6" : "iPad 10.2\" 8th Gen",
	"iPad11,7" : "iPad 10.2\" 8th Gen",
	"iPad12,1" : "iPad 10.2\" 9th Gen",
	"iPad12,2" : "iPad 10.2\" 9th Gen",
	"iPad13,1" : "iPad Air 4th Gen",
	"iPad13,2" : "iPad Air 4th Gen",
	"iPad13,4" : "iPad Pro 11\" - 3rd Gen",
	"iPad13,5" : "iPad Pro 11\" - 3rd Gen",
	"iPad13,6" : "iPad Pro 11\" - 3rd Gen",
	"iPad13,7" : "iPad Pro 11\" - 3rd Gen",
	"iPad13,8" : "iPad Pro 12.9\" - 5th Gen",
	"iPad13,9" : "iPad Pro 12.9\" - 5th Gen",
	"iPad13,10" : "iPad Pro 12.9\" - 5th Gen",
	"iPad13,11" : "iPad Pro 12.9\" - 5th Gen",
	"iPad14,1" : "iPad mini 6th Gen",
	"iPad14,2" : "iPad mini 6th Gen",
	"iPod7,1" : "iPod touch 6th Gen, 2015",
	"iPod9,1" : "iPod touch 7th Gen, 2019",
	"iPhone6,1" : "iPhone 5s",
	"iPhone6,2" : "iPhone 5s",
	"iPhone7,1" : "iPhone 6 Plus",
	"iPhone7,2" : "iPhone 6",
	"iPhone8,1" : "iPhone 6s",
	"iPhone8,2" : "iPhone 6s Plus",
	"iPhone8,4" : "iPhone SE",
	"iPhone9,1" : "iPhone 7",
	"iPhone9,2" : "iPhone 7 Plus",
	"iPhone9,3" : "iPhone 7",
	"iPhone9,4" : "iPhone 7 Plus",
	"iPhone10,1" : "iPhone 8",
	"iPhone10,2" : "iPhone 8 Plus",
	"iPhone10,3" : "iPhone X",
	"iPhone10,4" : "iPhone 8",
	"iPhone10,5" : "iPhone 8 Plus",
	"iPhone10,6" : "iPhone X",
	"iPhone11,2" : "iPhone Xs",
	"iPhone11,6" : "iPhone Xs Max",
	"iPhone11,8" : "iPhone XR",
	"iPhone12,1" : "iPhone 11",
	"iPhone12,3" : "iPhone 11 Pro",
	"iPhone12,5" : "iPhone 11 Pro Max",
	"iPhone12,8" : "iPhone SE 2",
	"iPhone13,1" : "iPhone 12 mini",
	"iPhone13,2" : "iPhone 12",
	"iPhone13,3" : "iPhone 12 Pro",
	"iPhone13,4" : "iPhone 12 Pro Max",
	"iPhone14,2" : "iPhone 13 Pro",
	"iPhone14,3" : "iPhone 13 Pro Max",
	"iPhone14,4" : "iPhone 13 mini",
	"iPhone14,5" : "iPhone 13",
	"Watch2,3" : "Watch Series 2",
	"Watch2,4" : "Watch Series 2",
	"Watch2,6" : "Watch Series 1",
	"Watch2,7" : "Watch Series 1",
	"Watch3,1" : "Watch Series 3",
	"Watch3,2" : "Watch Series 3",
	"Watch3,3" : "Watch Series 3",
	"Watch3,4" : "Watch Series 3",
	"Watch4,1" : "Watch Series 4",
	"Watch4,2" : "Watch Series 4",
	"Watch4,3" : "Watch Series 4",
	"Watch4,4" : "Watch Series 4",
	"Watch5,1" : "Watch Series 5",
	"Watch5,2" : "Watch Series 5",
	"Watch5,3" : "Watch Series 5",
	"Watch5,4" : "Watch Series 5",
	"Watch5,9" : "Watch Series SE",
	"Watch5,10" : "Watch Series SE",
	"Watch5,11" : "Watch Series SE",
	"Watch5,12" : "Watch Series SE",
	"Watch6,1" : "Watch Series 6",
	"Watch6,2" : "Watch Series 6",
	"Watch6,3" : "Watch Series 6",
	"Watch6,4" : "Watch Series 6",
	"Watch6,6" : "Watch Series 7",
	"Watch6,7" : "Watch Series 7",
	"Watch6,8" : "Watch Series 7",
	"Watch6,9" : "Watch Series 7",
	"AppleTV5,3" : "TV HD 4th Gen",
	"AppleTV6,2" : "TV 4K - 2017",
	"AppleTV11,1" : "TV 4K - 2021",
	"AudioAccessory1,1" : "HomePod",
	"AudioAccessory1,2" : "HomePod",
	"AudioAccessory5,1" : "HomePod mini",
	"J132AP" : "Apple T2 MacBookPro15,2 (j132)",
	"J137AP" : "Apple T2 iMacPro1,1 (j137)",
	"J140AAP" : "Apple T2 MacBookAir8,2 (j140a)",
	"J140KAP" : "Apple T2 MacBookAir8,1 (j140k)",
	"J152FAP" : "Apple T2 MacBookPro16,1 (j152f)",
	"J160AP" : "Apple T2 MacPro7,1 (j160)",
	"J174AP" : "Apple T2 Macmini8,1 (j174)",
	"J185AP" : "Apple T2 iMac20,1 (j185)",
	"J185FAP" : "Apple T2 iMac20,2 (j185f)",
	"J213AP" : "Apple T2 MacBookPro15,4 (j213)",
	"J214KAP" : "Apple T2 MacBookPro16,2 (j214k)",
	"J215AP" : "Apple T2 MacBookPro16,4 (j215)",
	"J223AP" : "Apple T2 MacBookPro16,3 (j223)",
	"J230KAP" : "Apple T2 MacBookAir9,1 (j223k)",
	"J274AP" : "Macmini9,1 Apple Silicon M1",
	"J293AP" : "MacBookPro17,1 Apple Silicon M1",
	"J313AP" : "MacBookAir10,1 Apple Silicon M1",
	"J314cAP" : "MacBookPro18,4 – 14\"",
	"J314sAP" : "MacBookPro18,3 – 14\"",
	"J316cAP" : "MacBookPro18,2 – 16\"",
	"J316sAP" : "MacBookPro18,1 – 16\"",
	"J456AP" : "iMac21,1 Apple Silicon M1",
	"J457AP" : "iMac21,2 Apple Silicon M1",
	"J680AP" : "Apple T2 MacBookPro15,1 (j680)",
	"J780AP" : "Apple T2 MacBookPro15,3 (j780)",
	"Mac-A61BADE1FDAD7B05" : "MacBookPro16,4 (16-inch, AMD Radeon Pro 5600M)",
	"Mac-06F11F11946D27C5" : "MacBookPro11,5 (15-inch Mid 2015)",
	"Mac-5F9802EFE386AA28" : "MacBookPro16,3 (13-inch 2020)",
	"Mac-E1008331FDC96864" : "MacBookPro16,1 (16-inch Late 2019)",
	"Mac-53FDB3D8DB8CA971" : "MacBookPro15,4 (13-inch Mid 2019)",
	"Mac-06F11FD93F0323C5" : "MacBookPro11,4 (15-inch Mid 2015)",
	"Mac-1E7E29AD0135F9BC" : "MacBookPro15,3 (15-inch Mid 2019)",
	"Mac-827FB448E656EC26" : "MacBookPro15,2 (13-inch Mid 2018)",
	"Mac-937A206F2EE63C01" : "MacBookPro15,1 (15-inch Mid 2018)",
	"Mac-2BD1B31983FE1663" : "MacBookPro11,3 (15-inch Mid 2014)",
	"Mac-3CBD00234E554E41" : "MacBookPro11,2 (15-inch Late 2013)",
	"Mac-35C5E08120C7EEAF" : "Macmini7,1 (Late 2014)",
	"Mac-473D31EABEB93F9B" : "MacBookPro13,1 (15-inch Late 2016)",
	"Mac-4B682C642B45593E" : "iMac18,1 (21.5-Inch Mid-2017)",
	"Mac-551B86E5744E2388" : "MacBookPro14,3 (15-inch Mid 2017)",
	"Mac-63001698E7A34814" : "iMac19,2",
	"Mac-65CE76090165799A" : "iMac17,1 (27-Inch 5k, Late 2015)",
	"Mac-66E35819EE2D0D05" : "MacBookPro13,2 (13-inch Late 2016)",
	"Mac-189A3D4F975D5FFC" : "MacBookPro11,1 (13-inch Late 2013)",
	"Mac-AFD8A9D944EA4843" : "MacBookPro10,2 (13-inch Early 2013)",
	"Mac-C3EC7CD22292981F" : "MacBookPro10,1 (15-inch Early 2013)",
	"Mac-6F01561E16C75D06" : "MacBookPro9,2 (13-inch Mid 2012)",
	"Mac-4B7AC7E43945597E" : "MacBookPro9,1 (15-inch Mid 2012)",
	"Mac-50619A408DB004DA" : "MacBookPro8,3 (17-inch Late 2011)",
	"Mac-942459F5819B171B" : "MacBookPro8,3 (17-inch Early 2011)",
	"Mac-94245A3940C91C80" : "MacBookPro8,2	(15-inch Early 2011)",
	"Mac-94245B3640C91C81" : "MacBookPro8,1	(13-inch Early 2011)",
	"Mac-F222BEC8" : "MacBookPro7,1 (13-inch Early 2010)",
	"Mac-F22586C8" : "MacBookPro6,2	(15-inch Early 2010)",
	"Mac-F22589C8" : "MacBookPro6,1	(17-inch Early 2010)",
	"Mac-F2268AC8" : "MacBookPro5,5	(13-inch Mid 2009)",
	"Mac-F22587A1" : "MacBookPro5,4	(15-inch Mid 2009)",
	"Mac-F22587C8" : "MacBookPro5,3	(15-inch Mid 2009)",
	"Mac-F2268EC8" : "MacBookPro5,2	(17-inch Early 2009)",
	"Mac-F42D86C8" : "MacBookPro5,1	(15-inch Late 2008)",
	"Mac-F42D86A9" : "MacBookPro5,1	(17-inch Late 2008)",
	"Mac-F42C89C8" : "MacBookPro4,1	(15-inch Early 2008)",
	"Mac-F42C86C8" : "MacBookPro4,1	(17-inch Early 2008)",
	"Mac-F4238BC8" : "MacBookPro3,1	(15-inch Late 2007)",
	"Mac-F42388C8" : "MacBookPro3,1	(17-inch Late 2007)",
	"Mac-F42187C8" : "MacBookPro2,2	(15-inch Late 2006)",
	"Mac-F42189C8" : "MacBookPro2,1	(17-inch Late 2006)",
	"3A107" : "MacBookPro1,2 (17-inch 2006)",
	"3A106" : "MacBookPro1,1 (15-inch 2006)",
	"Mac-77F17D7DA9285301" : "",
	"Mac-937A206F2EE63C01" : "MacBookPro15,1 (15-inch Mid 2018)",
	"Mac-937CB26E2E02BB01" : "MacBookAir7,2",
	"Mac-9AE82516C7C6B903" : "MacBook9,1 (Early 2016)",
	"Mac-F305150B0C7DEEEF" : "MacBook8,2 (Early 2015)",
	"Mac-BE0E8AC46FE800CC" : "MacBook8,1 (Early 2015)",
	"Mac-F22C8AC8" : "MacBook7,1 (Mid 2010) / MacBook6,1 (Late 2009)",
	"Mac-F22788AA" : "MacBook5,2 (13-inch C2D Early 2009)",
	"Mac-F42D89C8" : "MacBook5,1 (13-inch C2D Late 2008 Aluminum)",
	"Mac-F42D89A9" : "MacBook5,1 (13-inch C2D Late 2008 Aluminum)",
	"Mac-F22788A9" : "MacBook4,1 (13-inch C2D Early 2008)",
	"Mac-F22788C8" : "MacBook3,1 (13-inch C2D Late 2007)",
	"Mac-F4208CAA" : "MacBook2,1 (13-inch C2D Late 2006)",
	"Mac-F4208CC8" : "MacBook1,1 (13-inch Core Duo 2006)",
	"Mac-9F18E312C5C2BF0B" : "MacBookAir7,1 (11-inch Early 2015)",
	"Mac-A369DDC4E67F1C45" : "iMac16,1 (21.5-Inch Late 2015)",
	"Mac-A5C67F76ED83108C" : "MacBookPro13,3 (15-inch Late 2016)",
	"Mac-AA95B1DDAB278B95" : "iMac19,1 (27-Inch 5k, 2019)",
	"Mac-B4831CEBD52A0C4C" : "MacBookPro14,1 (13-inch Mid 2017)",
	"Mac-B809C3757DA9BB8D" : "iMac17,1 (27-Inch 5k, Late 2015)",
	"Mac-BE088AF8C5EB4FA2" : "iMac18,2 / iMac18,3",
	"Mac-CAD6701F7CEA0921" : "MacBookPro14,2 (13-inch Mid 2017)",
	"Mac-DB15BD556843C820" : "iMac17,1 (27-Inch 5k, Late 2015)",
	"Mac-E43C1C25D4880AD6" : "MacBookPro12,1 (13-inch Early 2015)",
	"Mac-E7203C0F68AA0004" : "MacBookPro16,2",
	"Mac-EE2EBD4B90B839A8" : "MacBook10,1 (Mid 2017)",
	"Mac-F60DEB81FF30ACF6" : "MacPro6,1 (Late 2013)",
	"Mac-FA842E06C61E91C5" : "iMac15,2 (27-Inch 5k, Late 2014)",
	"Mac-FFE5EF870D7BA81A" : "iMac16,2 (21.5-Inch Late 2015)",
	"Mac-0CFF9C7C2B63DF8D" : "MacBookAir9,1 (2020)",
	"Mac-226CB3C6A851A671" : "MacBookAir8,2 (TT Retina, 2019)",
	"Mac-827FAC58A8FDFA22" : "MacBookAir8,1	(Late 2018)",
	"Mac-7DF21CB3ED6977E5" : "MacBookAir6,2	(13-inch Early 2014)",
	"Mac-35C1E88140C3E6CF" : "MacBookAir6,1	(11-inch Mid 2013)",
	"Mac-66F35F19FE2A0D05" : "MacBookAir6,1 (11-inch Mid 2012)",
	"Mac-2E6FAB96566FE58C" : "MacBookAir5,2	(13-inch Mid 2012)",
	"Mac-742912EFDBEE19B3" : "MacBookAir4,2	(13-inch Mid 2012)",
	"Mac-C08A6BB70A942AC2" : "MacBookAir4,1	(11-inch Mid 2012)",
	"Mac-942C5DF58193131B" : "MacBookAir3,2	(13-inch Late 2010)",
	"Mac-942452F5819B1C1B" : "MacBookAir3,1	(11-inch Late 2010)",
	"Mac-F42D88C8" : "MacBookAir2,1	(13-inch Late 2008)",
	"Mac-F42C8CC8" : "MacBookAir1,1	(13-inch Early 2008)",
	"Mac-27AD2F918AE68F61" : "MacPro7,1	(2019)",
	"Mac-F221BEC8" : "MacPro5,1	(Mid 2010) / MacPro4,1 (Nehalem 2009)",
 	"Mac-F42C88C8" : "MacPro3,1	(Eight Core 2008)",
	"Mac-F4208DA9" : "MacPro2,1	(Eight Core 2007)",
	"Mac-F4208DC8" : "MacPro1,1	(Quad Core 2006)",
	"Mac-AF89B6D9451A490B" : "iMac20,2	(Retina 5K, 27-Inch, 2020)",
	"Mac-CFF7D910A743CAAF" : "iMac20,1	(Retina 5K, 27-Inch, 2020)",
	"Mac-42FD25EABCABB274" : "iMac15,1	(5K, 27-inch, Late 2014)",
	"Mac-81E3E92DD6088272" : "iMac14,4	(21.5-inch Mid 2014)",
	"Mac-77EB7D7DAF985301" : "iMac14,3	(21.5-inch Late 2013)",
	"Mac-27ADBB7B4CEE8E61" : "iMac14,2	(27-inch Late 2013)",
	"Mac-031B6874CF7F642A" : "iMac14,1	(21.5-inch Late 2013)",
	"Mac-7DF2A3B5E5D671ED" : "iMac13,3	(iMac Late 2012)",
	"Mac-FC02E91DDD3FA6A4" : "iMac13,2	(27-Inch Late 2012)",
	"Mac-00BE6ED71E35EB86" : "iMac13,1	(21.5-inch Late 2012)",
	"Mac-942B59F58194171B" : "iMac12,2	(27-inch Mid 2011)",
	"Mac-942B5BF58194151B" : "iMac12,1	(21.5-inch Mid 2011)",
	"Mac-F2238BAE" : "iMac11,3 (27-inch Mid 2010)",
	"Mac-F2238AC8" : "iMac11,2 (21.5-inch Mid 2010)",
	"Mac-F2268DAE" : "iMac11,1 (27-inch Late 2009)",
	"Mac-F2268DC8" : "iMac10,1 (iMac Late 2009)",
	"Mac-F221DCC8" : "iMac10,1 (iMac Late 2009)",
	"Mac-F2268CC8" : "iMac10,1 (iMac Late 2009)",
	"Mac-F2218EA9" : "iMac9,1 (20-inch Mid 2009)",
	"Mac-F2218FC8" : "iMac9,1 (24-inch Early 2009)",
	"Mac-F2218EC8" : "iMac9,1 (20-inch Early 2009)",
	"Mac-F227BEC8" : "iMac8,1 (24-inch Early 2008)",
	"Mac-F226BEC8" : "iMac8,1 (20-inch Early 2008)",
	"Mac-F42386C8" : "iMac7,1 (24-inch Mid 2007)",
	"Mac-F4238CC8" : "iMac7,1 (20-inch Mid 2007)",
	"Mac-F4218FC8" : "iMac6,1 (24-inch Late 2006)",
	"Mac-F4218EC8" : "iMac5,2 (17-inch Late 2006)",
	"Mac-F42786A9" : "iMac5,1 (20-inch Late 2006)",
	"Mac-F4228EC" : "iMac5,1 (17-inch Late 2006)",
	"Unknown" : "iMac4,2 (17-inch Mid 2006)",
	"3A103" : "iMac4,1 (20-inch Early 2006)",
	"Unknown" : "iMac4,1 (17-inch Early 2006)", 
	"Mac-7BA5B2D9E42DDD94" : "iMacPro1,1 (5k, 27-inch Late 2017)",
	"Mac-7BA5B2DFE22DDD8C" : "Macmini8,1 (Late 2018)",
	"Mac-F65AE981FFA204ED" : "Macmini6,2 (Late 2012)",
	"Mac-031AEE4D24BFF0B1" : "Macmini6,1 (Late 2012)",
	"Mac-7BA5B2794B2CDB12" : "Macmini5,3 (Mid 2011)",
	"Mac-4BC72D62AD45599E" : "Macmini5,2 (Mid 2011)",
	"Mac-8ED6AF5B48C039E1" : "Macmini5,1 (Mid 2011)",
	"Mac-F2208EC8" : "Macmini4,1 (Early 2010)",
	"Mac-F22C86C8" : "Macmini3,1 (Early 2009)",
	"Mac-F4208EAA" : "Macmini2,1 (Mid 2007)",
	"3A102" : "Macmini1,1 (Late 2006)",
	"GMC2" : "Macmini1,1 (Early 2006)",
	"Mac-F223BEC8" : "Xserve3,1	(Quad Core Early 2009)",
	"Mac-F42289C8" : "Xserve2,1	(Eight Core Early 2008)",
	"Mac-F4208AC8" : "Xserve1,1	(Quad Core Late 2006)",
	"VMA2MACOSAP" : "",
	"VMM-x86_64" : "",
	"X589AMLUAP" : "",
	"X589ICLYAP" : "",
	"X86LEGACYAP" : ""
}

apple_gdmf = "https://gdmf.apple.com/v2/pmv"

reqs = requests.Session()

resp = reqs.get(apple_gdmf, verify="gdmf-apple-com-chain.pem")
catalog = resp.json()

for iOS in catalog["PublicAssetSets"]["iOS"]:
	#print(iOS["ProductVersion"])
	for Device in iOS["SupportedDevices"]:
		if Device in apple_id:
			print("%s (%s)" % (apple_id[Device], iOS["ProductVersion"]))
		else:
			print("Unknown ID")

sys.exit(0)